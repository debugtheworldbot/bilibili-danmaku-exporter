# B 站弹幕导出工具 - 项目待办清单

## 数据库设计
- [x] 创建弹幕导出历史记录表（可选，用于统计和优化）

## 后端功能
- [x] 实现 B 站视频链接解析（BV/AV 号提取）
- [x] 实现 B 站视频信息获取 API 调用
- [x] 实现 B 站弹幕数据获取（protobuf 格式）
- [x] 实现 protobuf 弹幕数据解析
- [x] 实现弹幕转 ASS 格式转换器
- [x] 实现 ASS 文件生成逻辑（头部、样式、事件）
- [x] 支持自定义弹幕参数（字体、字号、透明度、持续时间、分辨率）
- [x] 创建 tRPC 路由处理弹幕导出请求

## 前端功能
- [x] 设计字体排印粗野主义风格界面
- [x] 实现视频链接输入组件
- [x] 实现视频信息展示卡片
- [x] 实现弹幕参数配置面板
- [x] 实现弹幕转换进度显示
- [x] 实现弹幕统计信息展示（总数、类型分布）
- [x] 实现 ASS 文件下载功能
- [x] 添加错误处理和用户提示

## 测试与优化
- [x] 测试各种 B 站链接格式解析
- [x] 测试弹幕数据获取和转换
- [x] 测试 ASS 文件在本地播放器中的效果
- [x] 优化大量弹幕的处理性能
- [x] 编写后端单元测试

## 部署准备
- [x] 创建项目检查点

## Bug 修复
- [x] 修复 B 站弹幕 API 调用错误（使用正确的 XML 弹幕接口）

## 新功能
- [x] 增加弹幕轨道数量（支持更多弹幕同时显示）
- [x] 添加弹幕覆盖范围选项（全屏、1/2 屏幕、1/4 屏幕）
- [x] 更新前端界面添加覆盖范围选择器
